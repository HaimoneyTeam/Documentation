<!DOCTYPE html>
<html>
<head>
    <title>HarbourX - DB & Architecture Design</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1900px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            font-size: 2.5em;
            border-bottom: 4px solid linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding-bottom: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        h2 {
            color: #34495e;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 10px;
            margin-top: 40px;
        }
        .section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            margin: 25px 0;
            border-left: 4px solid #667eea;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .feature-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 12px rgba(0,0,0,0.15);
        }
        .feature-card h3 {
            margin-top: 0;
            color: #2c3e50;
        }
        .database-table {
            background: #fff;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        .database-table h4 {
            margin-top: 0;
            color: #495057;
            border-bottom: 2px solid #667eea;
            padding-bottom: 5px;
        }
        .field-list {
            list-style: none;
            padding: 0;
        }
        .field-list li {
            padding: 5px 0;
            border-bottom: 1px solid #f1f3f5;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }
        .tech-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 500;
        }
        .timeline {
            position: relative;
            padding-left: 40px;
        }
        .timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #667eea;
        }
        .timeline-item {
            position: relative;
            margin-bottom: 30px;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -30px;
            top: 5px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #667eea;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: 600;
            margin-left: 10px;
        }
        .status-complete {
            background: #d4edda;
            color: #155724;
        }
        .status-in-progress {
            background: #fff3cd;
            color: #856404;
        }
        .status-pending {
            background: #f8d7da;
            color: #721c24;
        }
        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        .alert {
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .alert-warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            color: #856404;
        }
        .alert-success {
            background: #d4edda;
            border-left: 4px solid #28a745;
            color: #155724;
        }
        .alert-info {
            background: #d1ecf1;
            border-left: 4px solid #17a2b8;
            color: #0c5460;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üö¢ HarbourX - DB & Architecture Design</h1>
        
        <div class="alert alert-info">
            <strong>üìÖ Last Updated:</strong> August 2025<br>
            <strong>üéØ Purpose:</strong> Complete system redesign from microservices to monolithic architecture with new features<br>
            <strong>üìä Status:</strong> Design Phase Complete, Ready for Implementation
        </div>

        <h2>üìå Executive Summary</h2>
        <div class="section">
            <p><strong>HarbourX</strong> is a comprehensive financial services platform for broker commission management, loan processing, and client engagement. This document outlines the complete system redesign, migrating from an over-engineered microservices architecture to a streamlined monolithic application.</p>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üéØ Key Objectives</h3>
                    <ul>
                        <li>Eliminate data duplication</li>
                        <li>Reduce infrastructure costs by 80%</li>
                        <li>Improve system performance</li>
                        <li>Add modern features</li>
                        <li>Enhance user experience</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>‚ö° Core Features</h3>
                    <ul>
                        <li>Kanban loan management</li>
                        <li>Client self-service portal</li>
                        <li>Referral system</li>
                        <li>AI-powered risk assessment</li>
                        <li>Digital signatures</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>üîß Technical Improvements</h3>
                    <ul>
                        <li>Single database (PostgreSQL)</li>
                        <li>Simplified deployment</li>
                        <li>Built-in monitoring</li>
                        <li>ACID transactions</li>
                        <li>60% less code</li>
                    </ul>
                </div>
            </div>
        </div>

        <h2>üèóÔ∏è System Architecture</h2>
        <div class="section">
            <div class="mermaid">
flowchart TB
    subgraph "Client Layer"
        WEB[Web Browser]
        MOB[Mobile Browser]
        API[External APIs]
    end
    
    subgraph "Application Layer"
        APP[HarbourX Monolith]
        
        subgraph "Core Modules"
            AUTH[Authentication]
            USER[User Management]
            LOAN[Loan Processing]
            COMM[Commissions]
            PORT[Client Portal]
        end
        
        subgraph "New Features"
            KAN[Kanban Board]
            REF[Referral System]
            AI[AI/ML Engine]
            DOC[Document Manager]
            SIGN[Digital Signatures]
        end
    end
    
    subgraph "Data Layer"
        PG[(PostgreSQL)]
        REDIS[(Redis Cache)]
        S3[Object Storage]
    end
    
    subgraph "External Services"
        LEND[Lender APIs]
        CREDIT[Credit Check]
        KYC[Identity Verification]
        EMAIL[Email Service]
        SMS[SMS Gateway]
    end
    
    WEB --> APP
    MOB --> APP
    API --> APP
    
    APP --> PG
    APP --> REDIS
    APP --> S3
    
    APP --> LEND
    APP --> CREDIT
    APP --> KYC
    APP --> EMAIL
    APP --> SMS
    
    style APP fill:#667eea,color:#fff
    style PG fill:#336791,color:#fff
    style REDIS fill:#dc382d,color:#fff
            </div>
        </div>

        <h2>üíæ Database Schema - Complete Design</h2>
        <div class="section">
            <h3>Core User & Identity System</h3>
            <div class="feature-grid">
                <div class="database-table">
                    <h4>users</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>email: VARCHAR UNIQUE</li>
                        <li>username: VARCHAR UNIQUE</li>
                        <li>first_name: VARCHAR</li>
                        <li>last_name: VARCHAR</li>
                        <li>phone: VARCHAR</li>
                        <li>password_hash: VARCHAR</li>
                        <li>professional_info: JSONB</li>
                        <li>avatar_url: VARCHAR</li>
                        <li>preferences: JSONB</li>
                        <li>is_email_verified: BOOLEAN</li>
                        <li>is_active: BOOLEAN</li>
                        <li>last_login: TIMESTAMP</li>
                        <li>created_at: TIMESTAMP</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>roles</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>name: VARCHAR UNIQUE</li>
                        <li>description: TEXT</li>
                        <li>properties: JSONB</li>
                        <li>config: JSONB</li>
                        <li>parent_role_id: INT REFERENCES roles</li>
                        <li>is_system_role: BOOLEAN</li>
                        <li>is_active: BOOLEAN</li>
                        <li>created_at: TIMESTAMP</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>permissions</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>resource: VARCHAR</li>
                        <li>action: VARCHAR</li>
                        <li>description: TEXT</li>
                        <li>is_active: BOOLEAN</li>
                        <li>created_at: TIMESTAMP</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>user_roles</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>user_id: INT REFERENCES users</li>
                        <li>role_id: INT REFERENCES roles</li>
                        <li>company_id: INT REFERENCES companies</li>
                        <li>granted_by: INT REFERENCES users</li>
                        <li>granted_at: TIMESTAMP</li>
                        <li>expires_at: TIMESTAMP</li>
                        <li>is_active: BOOLEAN</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>role_permissions</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>role_id: INT REFERENCES roles</li>
                        <li>permission_id: INT REFERENCES permissions</li>
                        <li>conditions: JSONB</li>
                        <li>created_at: TIMESTAMP</li>
                    </ul>
                </div>
            </div>

            <h3>Company & Relationship System</h3>
            <div class="feature-grid">
                <div class="database-table">
                    <h4>company_types</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>type_code: VARCHAR UNIQUE</li>
                        <li>type_name: VARCHAR</li>
                        <li>description: TEXT</li>
                        <li>required_fields: JSONB</li>
                        <li>allowed_features: JSONB</li>
                        <li>is_active: BOOLEAN</li>
                        <li>created_at: TIMESTAMP</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>companies</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>company_type_id: INT REFERENCES company_types</li>
                        <li>name: VARCHAR</li>
                        <li>trading_name: VARCHAR</li>
                        <li>abn: VARCHAR</li>
                        <li>acn: VARCHAR</li>
                        <li>contact_info: JSONB</li>
                        <li>banking_info: JSONB</li>
                        <li>extended_data: JSONB</li>
                        <li>default_commission_model_id: INT</li>
                        <li>default_fee_model_id: INT</li>
                        <li>is_active: BOOLEAN</li>
                        <li>created_at: TIMESTAMP</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>user_companies</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>user_id: INT REFERENCES users</li>
                        <li>company_id: INT REFERENCES companies</li>
                        <li>role_in_company: VARCHAR</li>
                        <li>broker_code: VARCHAR UNIQUE</li>
                        <li>commission_split_percentage: DECIMAL</li>
                        <li>position_title: VARCHAR</li>
                        <li>department: VARCHAR</li>
                        <li>start_date: DATE</li>
                        <li>end_date: DATE</li>
                        <li>is_primary: BOOLEAN</li>
                        <li>status: VARCHAR</li>
                        <li>created_at: TIMESTAMP</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>broker_relationships</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>parent_user_id: INT REFERENCES users</li>
                        <li>child_user_id: INT REFERENCES users</li>
                        <li>company_id: INT REFERENCES companies</li>
                        <li>relationship_type: VARCHAR</li>
                        <li>parent_split_percentage: DECIMAL</li>
                        <li>child_split_percentage: DECIMAL</li>
                        <li>effective_from: DATE</li>
                        <li>effective_to: DATE</li>
                        <li>status: VARCHAR</li>
                        <li>created_at: TIMESTAMP</li>
                    </ul>
                </div>
            </div>

            <h3>Dynamic Relationship System</h3>
            <div class="feature-grid">
                <div class="database-table">
                    <h4>relationship_types</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>type_code: VARCHAR UNIQUE</li>
                        <li>type_name: VARCHAR</li>
                        <li>description: TEXT</li>
                        <li>min_participants: INT</li>
                        <li>max_participants: INT</li>
                        <li>allowed_roles: JSONB</li>
                        <li>rules: JSONB</li>
                        <li>is_active: BOOLEAN</li>
                        <li>created_at: TIMESTAMP</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>relationships</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>relationship_type_id: INT REFERENCES relationship_types</li>
                        <li>name: VARCHAR</li>
                        <li>description: TEXT</li>
                        <li>status: VARCHAR</li>
                        <li>start_date: DATE</li>
                        <li>end_date: DATE</li>
                        <li>properties: JSONB</li>
                        <li>created_at: TIMESTAMP</li>
                        <li>updated_at: TIMESTAMP</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>relationship_participants</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>relationship_id: INT REFERENCES relationships</li>
                        <li>user_id: INT REFERENCES users</li>
                        <li>participant_role: VARCHAR</li>
                        <li>status: VARCHAR</li>
                        <li>joined_at: TIMESTAMP</li>
                        <li>left_at: TIMESTAMP</li>
                        <li>permissions: JSONB</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>relationship_events</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>relationship_id: INT REFERENCES relationships</li>
                        <li>event_type: VARCHAR</li>
                        <li>event_data: JSONB</li>
                        <li>created_by: INT REFERENCES users</li>
                        <li>created_at: TIMESTAMP</li>
                    </ul>
                </div>
            </div>

            <h3>Loan & Settlement System</h3>
            <div class="feature-grid">
                <div class="database-table">
                    <h4>loans</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>loan_number: VARCHAR UNIQUE</li>
                        <li>broker_user_id: INT REFERENCES users</li>
                        <li>sub_broker_user_id: INT REFERENCES users</li>
                        <li>company_id: INT REFERENCES companies</li>
                        <li>client_name: VARCHAR</li>
                        <li>client_info: JSONB</li>
                        <li>lender_company_id: INT REFERENCES companies</li>
                        <li>loan_product: VARCHAR</li>
                        <li>loan_amount: DECIMAL</li>
                        <li>interest_rate: DECIMAL</li>
                        <li>loan_term_months: INT</li>
                        <li>loan_purpose: VARCHAR</li>
                        <li>application_date: DATE</li>
                        <li>approval_date: DATE</li>
                        <li>settlement_date: DATE</li>
                        <li>discharge_date: DATE</li>
                        <li>status: VARCHAR</li>
                        <li>source: VARCHAR</li>
                        <li>notes: TEXT</li>
                        <li>created_at: TIMESTAMP</li>
                        <li>updated_at: TIMESTAMP</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>settlements</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>loan_id: INT REFERENCES loans</li>
                        <li>settlement_number: VARCHAR UNIQUE</li>
                        <li>broker_user_id: INT REFERENCES users</li>
                        <li>sub_broker_user_id: INT REFERENCES users</li>
                        <li>company_id: INT REFERENCES companies</li>
                        <li>settlement_amount: DECIMAL</li>
                        <li>settlement_date: DATE</li>
                        <li>commission_model_id: INT REFERENCES commission_models</li>
                        <li>applied_upfront_rate: DECIMAL</li>
                        <li>applied_trail_rate: DECIMAL</li>
                        <li>gross_upfront: DECIMAL</li>
                        <li>gross_trail: DECIMAL</li>
                        <li>fees_applied: JSONB</li>
                        <li>total_fees: DECIMAL</li>
                        <li>net_upfront: DECIMAL</li>
                        <li>net_trail: DECIMAL</li>
                        <li>status: VARCHAR</li>
                        <li>processed_at: TIMESTAMP</li>
                        <li>created_at: TIMESTAMP</li>
                    </ul>
                </div>
            </div>

            <h3>Commission System</h3>
            <div class="feature-grid">
                <div class="database-table">
                    <h4>commission_models</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>name: VARCHAR</li>
                        <li>code: VARCHAR UNIQUE</li>
                        <li>upfront_percentage: DECIMAL</li>
                        <li>trail_percentage: DECIMAL</li>
                        <li>model_type: VARCHAR</li>
                        <li>tier_config: JSONB</li>
                        <li>company_id: INT REFERENCES companies</li>
                        <li>effective_from: DATE</li>
                        <li>effective_to: DATE</li>
                        <li>is_active: BOOLEAN</li>
                        <li>created_at: TIMESTAMP</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>fee_models</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>name: VARCHAR</li>
                        <li>code: VARCHAR UNIQUE</li>
                        <li>description: TEXT</li>
                        <li>company_id: INT REFERENCES companies</li>
                        <li>fee_structure: VARCHAR</li>
                        <li>is_active: BOOLEAN</li>
                        <li>created_at: TIMESTAMP</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>fee_items</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>fee_model_id: INT REFERENCES fee_models</li>
                        <li>name: VARCHAR</li>
                        <li>amount: DECIMAL</li>
                        <li>percentage: DECIMAL</li>
                        <li>is_percentage: BOOLEAN</li>
                        <li>category: VARCHAR</li>
                        <li>is_gst_inclusive: BOOLEAN</li>
                        <li>created_at: TIMESTAMP</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>upfront_commissions</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>settlement_id: INT REFERENCES settlements</li>
                        <li>file_upload_id: INT REFERENCES file_uploads</li>
                        <li>broker_user_id: INT REFERENCES users</li>
                        <li>sub_broker_user_id: INT REFERENCES users</li>
                        <li>company_id: INT REFERENCES companies</li>
                        <li>loan_number: VARCHAR</li>
                        <li>client_name: VARCHAR</li>
                        <li>gross_commission: DECIMAL</li>
                        <li>fees: JSONB</li>
                        <li>total_deductions: DECIMAL</li>
                        <li>net_commission: DECIMAL</li>
                        <li>gst_amount: DECIMAL</li>
                        <li>parent_broker_amount: DECIMAL</li>
                        <li>child_broker_amount: DECIMAL</li>
                        <li>commission_date: DATE</li>
                        <li>status: VARCHAR</li>
                        <li>payment_date: DATE</li>
                        <li>payment_reference: VARCHAR</li>
                        <li>payment_method: VARCHAR</li>
                        <li>approved_by: INT REFERENCES users</li>
                        <li>approved_at: TIMESTAMP</li>
                        <li>created_at: TIMESTAMP</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>trail_commissions</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>loan_id: INT REFERENCES loans</li>
                        <li>file_upload_id: INT REFERENCES file_uploads</li>
                        <li>broker_user_id: INT REFERENCES users</li>
                        <li>sub_broker_user_id: INT REFERENCES users</li>
                        <li>company_id: INT REFERENCES companies</li>
                        <li>period_month: INT</li>
                        <li>period_year: INT</li>
                        <li>period_start: DATE</li>
                        <li>period_end: DATE</li>
                        <li>loan_balance: DECIMAL</li>
                        <li>trail_rate: DECIMAL</li>
                        <li>gross_commission: DECIMAL</li>
                        <li>fees: JSONB</li>
                        <li>net_commission: DECIMAL</li>
                        <li>gst_amount: DECIMAL</li>
                        <li>parent_broker_amount: DECIMAL</li>
                        <li>child_broker_amount: DECIMAL</li>
                        <li>status: VARCHAR</li>
                        <li>payment_date: DATE</li>
                        <li>payment_reference: VARCHAR</li>
                        <li>created_at: TIMESTAMP</li>
                    </ul>
                </div>
            </div>

            <h3>RCTI (Tax Invoice) System</h3>
            <div class="feature-grid">
                <div class="database-table">
                    <h4>rcti_invoices</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>invoice_number: VARCHAR UNIQUE</li>
                        <li>user_id: INT REFERENCES users</li>
                        <li>company_id: INT REFERENCES companies</li>
                        <li>period_month: INT</li>
                        <li>period_year: INT</li>
                        <li>period_start: DATE</li>
                        <li>period_end: DATE</li>
                        <li>upfront_total: DECIMAL</li>
                        <li>trail_total: DECIMAL</li>
                        <li>fees_total: DECIMAL</li>
                        <li>adjustments_total: DECIMAL</li>
                        <li>subtotal: DECIMAL</li>
                        <li>gst_amount: DECIMAL</li>
                        <li>total_amount: DECIMAL</li>
                        <li>status: VARCHAR</li>
                        <li>file_path: VARCHAR</li>
                        <li>file_hash: VARCHAR</li>
                        <li>generated_at: TIMESTAMP</li>
                        <li>generated_by: INT REFERENCES users</li>
                        <li>approved_at: TIMESTAMP</li>
                        <li>approved_by: INT REFERENCES users</li>
                        <li>sent_at: TIMESTAMP</li>
                        <li>paid_at: TIMESTAMP</li>
                        <li>notes: TEXT</li>
                        <li>created_at: TIMESTAMP</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>rcti_line_items</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>rcti_invoice_id: INT REFERENCES rcti_invoices</li>
                        <li>item_type: VARCHAR</li>
                        <li>upfront_commission_id: INT REFERENCES upfront_commissions</li>
                        <li>trail_commission_id: INT REFERENCES trail_commissions</li>
                        <li>description: TEXT</li>
                        <li>loan_reference: VARCHAR</li>
                        <li>client_reference: VARCHAR</li>
                        <li>quantity: DECIMAL</li>
                        <li>unit_price: DECIMAL</li>
                        <li>gross_amount: DECIMAL</li>
                        <li>gst_amount: DECIMAL</li>
                        <li>net_amount: DECIMAL</li>
                        <li>line_number: INT</li>
                        <li>created_at: TIMESTAMP</li>
                    </ul>
                </div>
            </div>

            <h3>File Processing System</h3>
            <div class="feature-grid">
                <div class="database-table">
                    <h4>file_uploads</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>filename: VARCHAR</li>
                        <li>original_filename: VARCHAR</li>
                        <li>file_path: VARCHAR</li>
                        <li>file_size: BIGINT</li>
                        <li>file_hash: VARCHAR UNIQUE</li>
                        <li>mime_type: VARCHAR</li>
                        <li>file_type: VARCHAR</li>
                        <li>upload_type: VARCHAR</li>
                        <li>uploaded_by: INT REFERENCES users</li>
                        <li>upload_method: VARCHAR</li>
                        <li>processing_status: VARCHAR</li>
                        <li>processing_started_at: TIMESTAMP</li>
                        <li>processing_completed_at: TIMESTAMP</li>
                        <li>total_rows: INT</li>
                        <li>processed_rows: INT</li>
                        <li>success_rows: INT</li>
                        <li>error_rows: INT</li>
                        <li>warning_rows: INT</li>
                        <li>error_message: TEXT</li>
                        <li>error_details: JSONB</li>
                        <li>metadata: JSONB</li>
                        <li>created_at: TIMESTAMP</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>file_processing_logs</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>file_upload_id: INT REFERENCES file_uploads</li>
                        <li>row_number: INT</li>
                        <li>sheet_name: VARCHAR</li>
                        <li>status: VARCHAR</li>
                        <li>raw_data: JSONB</li>
                        <li>processed_data: JSONB</li>
                        <li>error_code: VARCHAR</li>
                        <li>error_message: TEXT</li>
                        <li>entity_type: VARCHAR</li>
                        <li>entity_id: INT</li>
                        <li>action: VARCHAR</li>
                        <li>created_at: TIMESTAMP</li>
                    </ul>
                </div>
            </div>

            <h3>Audit & System Tables</h3>
            <div class="feature-grid">
                <div class="database-table">
                    <h4>audit_logs</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>user_id: INT REFERENCES users</li>
                        <li>entity_type: VARCHAR</li>
                        <li>entity_id: INT</li>
                        <li>action: VARCHAR</li>
                        <li>old_values: JSONB</li>
                        <li>new_values: JSONB</li>
                        <li>ip_address: VARCHAR</li>
                        <li>user_agent: VARCHAR</li>
                        <li>session_id: VARCHAR</li>
                        <li>created_at: TIMESTAMP</li>
                    </ul>
                </div>
            </div>

            <h3>Kanban & Workflow System (NEW)</h3>
            <div class="feature-grid">
                <div class="database-table">
                    <h4>workflow_stages</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>name: VARCHAR</li>
                        <li>stage_order: INT</li>
                        <li>color: VARCHAR</li>
                        <li>auto_actions: JSONB</li>
                        <li>sla_hours: INT</li>
                        <li>is_active: BOOLEAN</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>loan_tasks</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>loan_id: INT REFERENCES loans</li>
                        <li>assigned_to: INT REFERENCES users</li>
                        <li>task_type: VARCHAR</li>
                        <li>description: TEXT</li>
                        <li>due_date: TIMESTAMP</li>
                        <li>status: VARCHAR</li>
                        <li>priority: INT</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>workflow_transitions</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>loan_id: INT REFERENCES loans</li>
                        <li>from_stage: INT REFERENCES stages</li>
                        <li>to_stage: INT REFERENCES stages</li>
                        <li>transitioned_by: INT REFERENCES users</li>
                        <li>reason: TEXT</li>
                        <li>timestamp: TIMESTAMP</li>
                    </ul>
                </div>
            </div>

            <h3>Client Portal System (NEW)</h3>
            <div class="feature-grid">
                <div class="database-table">
                    <h4>client_accounts</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>user_id: INT REFERENCES users</li>
                        <li>broker_id: INT REFERENCES users</li>
                        <li>portal_access: BOOLEAN</li>
                        <li>verification_status: VARCHAR</li>
                        <li>preferences: JSONB</li>
                        <li>last_login: TIMESTAMP</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>document_requests</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>loan_id: INT REFERENCES loans</li>
                        <li>client_id: INT REFERENCES users</li>
                        <li>document_type: VARCHAR</li>
                        <li>description: TEXT</li>
                        <li>status: VARCHAR</li>
                        <li>due_date: DATE</li>
                        <li>uploaded_file_id: INT</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>digital_signatures</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>document_id: INT</li>
                        <li>signer_id: INT REFERENCES users</li>
                        <li>signature_data: TEXT</li>
                        <li>ip_address: INET</li>
                        <li>signed_at: TIMESTAMP</li>
                        <li>verification_code: VARCHAR</li>
                    </ul>
                </div>
            </div>

            <h3>AI/ML & Risk Assessment (NEW)</h3>
            <div class="feature-grid">
                <div class="database-table">
                    <h4>risk_assessments</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>loan_id: INT REFERENCES loans</li>
                        <li>risk_score: DECIMAL</li>
                        <li>risk_factors: JSONB</li>
                        <li>model_version: VARCHAR</li>
                        <li>recommendations: TEXT</li>
                        <li>assessed_at: TIMESTAMP</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>fraud_detections</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>entity_type: VARCHAR</li>
                        <li>entity_id: INT</li>
                        <li>fraud_score: DECIMAL</li>
                        <li>indicators: JSONB</li>
                        <li>status: VARCHAR</li>
                        <li>reviewed_by: INT REFERENCES users</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>fact_finds</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>loan_id: INT REFERENCES loans</li>
                        <li>template_id: INT</li>
                        <li>generated_content: JSONB</li>
                        <li>ai_confidence: DECIMAL</li>
                        <li>manual_edits: JSONB</li>
                        <li>finalized_at: TIMESTAMP</li>
                    </ul>
                </div>
            </div>

            <h3>Referral System (NEW)</h3>
            <div class="feature-grid">
                <div class="database-table">
                    <h4>referral_partnerships</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>referrer_id: INT REFERENCES users</li>
                        <li>referee_id: INT REFERENCES users</li>
                        <li>partnership_type: VARCHAR</li>
                        <li>commission_split: JSONB</li>
                        <li>terms: TEXT</li>
                        <li>status: VARCHAR</li>
                        <li>valid_from: DATE</li>
                        <li>valid_to: DATE</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>referral_transactions</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>partnership_id: INT</li>
                        <li>loan_id: INT REFERENCES loans</li>
                        <li>referral_fee: DECIMAL</li>
                        <li>status: VARCHAR</li>
                        <li>paid_date: DATE</li>
                    </ul>
                </div>
            </div>

            <h3>API Integration Management (NEW)</h3>
            <div class="feature-grid">
                <div class="database-table">
                    <h4>api_integrations</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>provider_name: VARCHAR</li>
                        <li>api_type: VARCHAR</li>
                        <li>credentials: JSONB (encrypted)</li>
                        <li>endpoint_url: VARCHAR</li>
                        <li>rate_limits: JSONB</li>
                        <li>is_active: BOOLEAN</li>
                    </ul>
                </div>
                
                <div class="database-table">
                    <h4>api_logs</h4>
                    <ul class="field-list">
                        <li>id: SERIAL PRIMARY KEY</li>
                        <li>integration_id: INT</li>
                        <li>request_data: JSONB</li>
                        <li>response_data: JSONB</li>
                        <li>status_code: INT</li>
                        <li>latency_ms: INT</li>
                        <li>timestamp: TIMESTAMP</li>
                    </ul>
                </div>
            </div>
        </div>

        <h2>üöÄ Technology Stack</h2>
        <div class="section">
            <h3>Backend Technologies</h3>
            <div class="tech-stack">
                <span class="tech-badge">Go (Golang)</span>
                <span class="tech-badge">Java Spring Boot</span>
                <span class="tech-badge">Gin/Echo Framework</span>
                <span class="tech-badge">Spring Security</span>
                <span class="tech-badge">GORM / JPA</span>
                <span class="tech-badge">JWT Auth</span>
                <span class="tech-badge">gRPC</span>
                <span class="tech-badge">REST APIs</span>
            </div>

            <h3>Frontend Technologies</h3>
            <div class="tech-stack">
                <span class="tech-badge">React 18</span>
                <span class="tech-badge">TypeScript</span>
                <span class="tech-badge">Material UI / Ant Design</span>
                <span class="tech-badge">Redux Toolkit</span>
                <span class="tech-badge">React Query</span>
                <span class="tech-badge">React Hook Form</span>
                <span class="tech-badge">React DnD (Kanban)</span>
                <span class="tech-badge">Vite</span>
            </div>

            <h3>Data Storage</h3>
            <div class="tech-stack">
                <span class="tech-badge">PostgreSQL (Primary)</span>
                <span class="tech-badge">MongoDB (Documents)</span>
                <span class="tech-badge">AWS S3 (Files)</span>
                <span class="tech-badge">Redis (Cache)</span>
                <span class="tech-badge">ElasticSearch (Search)</span>
            </div>

            <h3>AI/Automation & Integrations</h3>
            <div class="tech-stack">
                <span class="tech-badge">n8n (Workflow Automation)</span>
                <span class="tech-badge">OpenAI API</span>
                <span class="tech-badge">LangChain</span>
                <span class="tech-badge">Webhook.site</span>
                <span class="tech-badge">SendGrid</span>
                <span class="tech-badge">Twilio</span>
                <span class="tech-badge">DocuSign API</span>
            </div>

            <h3>DevOps & Monitoring</h3>
            <div class="tech-stack">
                <span class="tech-badge">Docker</span>
                <span class="tech-badge">Kubernetes (Optional)</span>
                <span class="tech-badge">GitHub Actions</span>
                <span class="tech-badge">Grafana</span>
                <span class="tech-badge">Prometheus</span>
                <span class="tech-badge">ELK Stack</span>
                <span class="tech-badge">Nginx</span>
                <span class="tech-badge">Traefik</span>
            </div>
        </div>

        <h2>üìä Feature Comparison</h2>
        <div class="section">
            <table style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                        <th style="padding: 12px; text-align: left;">Feature</th>
                        <th style="padding: 12px; text-align: center;">Current System</th>
                        <th style="padding: 12px; text-align: center;">HarbourX</th>
                        <th style="padding: 12px; text-align: left;">Benefit</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="background: #f8f9fa;">
                        <td style="padding: 10px;"><strong>Architecture</strong></td>
                        <td style="padding: 10px; text-align: center;">11 Microservices</td>
                        <td style="padding: 10px; text-align: center;">1 Monolith</td>
                        <td style="padding: 10px;">80% simpler operations</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;"><strong>Databases</strong></td>
                        <td style="padding: 10px; text-align: center;">11 PostgreSQL</td>
                        <td style="padding: 10px; text-align: center;">1 PostgreSQL</td>
                        <td style="padding: 10px;">No data duplication</td>
                    </tr>
                    <tr style="background: #f8f9fa;">
                        <td style="padding: 10px;"><strong>Infrastructure</strong></td>
                        <td style="padding: 10px; text-align: center;">Kubernetes (20% usage)</td>
                        <td style="padding: 10px; text-align: center;">2-3 VMs</td>
                        <td style="padding: 10px;">80% cost reduction</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;"><strong>Loan Management</strong></td>
                        <td style="padding: 10px; text-align: center;">‚ùå Basic list</td>
                        <td style="padding: 10px; text-align: center;">‚úÖ Kanban board</td>
                        <td style="padding: 10px;">Visual workflow</td>
                    </tr>
                    <tr style="background: #f8f9fa;">
                        <td style="padding: 10px;"><strong>Client Portal</strong></td>
                        <td style="padding: 10px; text-align: center;">‚ùå None</td>
                        <td style="padding: 10px; text-align: center;">‚úÖ Full portal</td>
                        <td style="padding: 10px;">Self-service</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;"><strong>Digital Signatures</strong></td>
                        <td style="padding: 10px; text-align: center;">‚ùå None</td>
                        <td style="padding: 10px; text-align: center;">‚úÖ Built-in</td>
                        <td style="padding: 10px;">Paperless process</td>
                    </tr>
                    <tr style="background: #f8f9fa;">
                        <td style="padding: 10px;"><strong>Referral System</strong></td>
                        <td style="padding: 10px; text-align: center;">‚ùå Manual</td>
                        <td style="padding: 10px; text-align: center;">‚úÖ Automated</td>
                        <td style="padding: 10px;">Auto commission splits</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;"><strong>AI Features</strong></td>
                        <td style="padding: 10px; text-align: center;">‚ùå None</td>
                        <td style="padding: 10px; text-align: center;">‚úÖ Risk/Fraud/Fact Find</td>
                        <td style="padding: 10px;">Smart automation</td>
                    </tr>
                    <tr style="background: #f8f9fa;">
                        <td style="padding: 10px;"><strong>Monitoring</strong></td>
                        <td style="padding: 10px; text-align: center;">‚ùå None</td>
                        <td style="padding: 10px; text-align: center;">‚úÖ Grafana/Prometheus</td>
                        <td style="padding: 10px;">Full observability</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;"><strong>Code Complexity</strong></td>
                        <td style="padding: 10px; text-align: center;">AI-generated bloat</td>
                        <td style="padding: 10px; text-align: center;">Clean, maintainable</td>
                        <td style="padding: 10px;">60% less code</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h2>üó∫Ô∏è Implementation Roadmap - Milestone Based</h2>
        <div class="section">
            <div class="alert alert-success">
                <h3>üéØ Milestone 1: Core Business Features (Priority)</h3>
                <strong>Focus:</strong> Commission Processing + File Upload + Kanban Board<br>
                <strong>Timeline:</strong> 16-18 weeks<br>
                <strong>Deliverable:</strong> Working system for commission management with visual workflow
            </div>

            <h3>üìç MILESTONE 1: Core Business Features (16-18 weeks)</h3>
            
            <div class="timeline">
                <div class="timeline-item">
                    <h3>Phase 1.1: Foundation Setup <span class="status-badge status-in-progress">3-4 weeks</span></h3>
                    <ul>
                        <li>Database setup (PostgreSQL + MongoDB)</li>
                        <li>Go/Spring Boot project structure</li>
                        <li>Basic authentication system</li>
                        <li>AWS S3 configuration for file storage</li>
                        <li>React project setup with TypeScript</li>
                    </ul>
                    <p><em>Deliverable: Basic infrastructure ready</em></p>
                </div>

                <div class="timeline-item">
                    <h3>Phase 1.2: Commission System Backend <span class="status-badge status-pending">4-5 weeks</span></h3>
                    <ul>
                        <li>Commission models & fee structures (1 week)</li>
                        <li>Upfront commission calculations (1 week)</li>
                        <li>Trail commission processing (1 week)</li>
                        <li>RCTI generation logic (1 week)</li>
                        <li>Commission splitting & broker hierarchies (1 week)</li>
                    </ul>
                    <p><em>Deliverable: Complete commission API endpoints</em></p>
                </div>

                <div class="timeline-item">
                    <h3>Phase 1.3: File Upload & Processing <span class="status-badge status-pending">3-4 weeks</span></h3>
                    <ul>
                        <li>Excel/CSV parser implementation (1 week)</li>
                        <li>S3 integration for file storage (0.5 weeks)</li>
                        <li>Bulk commission import logic (1.5 weeks)</li>
                        <li>File validation & error handling (1 week)</li>
                    </ul>
                    <p><em>Deliverable: Working file upload with commission import</em></p>
                </div>

                <div class="timeline-item">
                    <h3>Phase 1.4: Kanban Board Implementation <span class="status-badge status-pending">4-5 weeks</span></h3>
                    <ul>
                        <li>Kanban UI with React DnD (1.5 weeks)</li>
                        <li>Workflow stages configuration (1 week)</li>
                        <li>Loan status management (1 week)</li>
                        <li>Real-time updates with WebSocket (1 week)</li>
                        <li>Task assignments & notifications (0.5 weeks)</li>
                    </ul>
                    <p><em>Deliverable: Visual loan pipeline management</em></p>
                </div>

                <div class="timeline-item">
                    <h3>Phase 1.5: Integration & Testing <span class="status-badge status-pending">2 weeks</span></h3>
                    <ul>
                        <li>End-to-end testing of commission flow</li>
                        <li>File upload stress testing</li>
                        <li>Kanban board user testing</li>
                        <li>Bug fixes and optimization</li>
                    </ul>
                    <p><em>Deliverable: Production-ready Milestone 1</em></p>
                </div>
            </div>

            <div class="alert alert-info" style="margin-top: 30px;">
                <h3>üéØ Milestone 2: User Management & Portal</h3>
                <strong>Focus:</strong> Complete user system + Client portal + Digital signatures<br>
                <strong>Timeline:</strong> 12-14 weeks<br>
                <strong>Deliverable:</strong> Full user management with client self-service
            </div>

            <h3>üìç MILESTONE 2: User Management & Portal (12-14 weeks)</h3>
            
            <div class="timeline">
                <div class="timeline-item">
                    <h3>Phase 2.1: User & Role System <span class="status-badge status-pending">3-4 weeks</span></h3>
                    <ul>
                        <li>User management CRUD operations</li>
                        <li>Role-based access control (RBAC)</li>
                        <li>Company management system</li>
                        <li>Broker relationships & hierarchies</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h3>Phase 2.2: Client Portal <span class="status-badge status-pending">4-5 weeks</span></h3>
                    <ul>
                        <li>Client registration & login</li>
                        <li>Document upload interface</li>
                        <li>Application status tracking</li>
                        <li>Secure messaging system</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h3>Phase 2.3: Digital Signatures <span class="status-badge status-pending">3 weeks</span></h3>
                    <ul>
                        <li>DocuSign/similar API integration</li>
                        <li>Document preparation workflow</li>
                        <li>Signature verification & storage</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h3>Phase 2.4: Testing & Refinement <span class="status-badge status-pending">2 weeks</span></h3>
                    <ul>
                        <li>Security testing</li>
                        <li>User acceptance testing</li>
                        <li>Performance optimization</li>
                    </ul>
                </div>
            </div>

            <div class="alert alert-info" style="margin-top: 30px;">
                <h3>üéØ Milestone 3: Advanced Features</h3>
                <strong>Focus:</strong> AI/ML + Referral system + n8n automation<br>
                <strong>Timeline:</strong> 10-12 weeks<br>
                <strong>Deliverable:</strong> Smart automation and referral management
            </div>

            <h3>üìç MILESTONE 3: Advanced Features (10-12 weeks)</h3>
            
            <div class="timeline">
                <div class="timeline-item">
                    <h3>Phase 3.1: Referral System <span class="status-badge status-pending">3-4 weeks</span></h3>
                    <ul>
                        <li>Referral partnership management</li>
                        <li>Commission splitting for referrals</li>
                        <li>Referral tracking & reporting</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h3>Phase 3.2: AI/ML Integration <span class="status-badge status-pending">4 weeks</span></h3>
                    <ul>
                        <li>Risk assessment scoring</li>
                        <li>Fraud detection setup</li>
                        <li>Fact find auto-generation</li>
                        <li>OpenAI API integration</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h3>Phase 3.3: n8n Automation <span class="status-badge status-pending">3-4 weeks</span></h3>
                    <ul>
                        <li>n8n server setup</li>
                        <li>Workflow templates creation</li>
                        <li>API webhooks configuration</li>
                        <li>Automated notifications</li>
                    </ul>
                </div>
            </div>

            <div class="alert alert-warning" style="margin-top: 30px;">
                <h3>üìã Milestone Success Criteria</h3>
                <strong>Milestone 1 Success Metrics:</strong>
                <ul>
                    <li>‚úÖ Process 1000+ commission records without errors</li>
                    <li>‚úÖ Upload and parse Excel files up to 50MB</li>
                    <li>‚úÖ Kanban board handles 500+ active loans</li>
                    <li>‚úÖ RCTI generation in under 5 seconds</li>
                </ul>
            </div>
        </div>

        <h2>üéØ Success Metrics</h2>
        <div class="section">
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üìà Performance KPIs</h3>
                    <ul>
                        <li>Page load time < 2 seconds</li>
                        <li>API response time < 200ms</li>
                        <li>99.9% uptime SLA</li>
                        <li>Database queries < 50ms</li>
                    </ul>
                </div>
                
                <div class="feature-card">
                    <h3>üí∞ Business Metrics</h3>
                    <ul>
                        <li>80% infrastructure cost reduction</li>
                        <li>50% faster loan processing</li>
                        <li>30% increase in client satisfaction</li>
                        <li>60% reduction in manual tasks</li>
                    </ul>
                </div>
                
                <div class="feature-card">
                    <h3>üë• User Adoption</h3>
                    <ul>
                        <li>90% broker portal adoption</li>
                        <li>75% client portal usage</li>
                        <li>100% digital signature adoption</li>
                        <li>Zero paper processes</li>
                    </ul>
                </div>
            </div>
        </div>

        <h2>‚ö†Ô∏è Risk Mitigation</h2>
        <div class="section">
            <div class="alert alert-warning">
                <h3>Identified Risks & Mitigation Strategies</h3>
                <ol>
                    <li><strong>Data Migration Complexity</strong>
                        <ul>
                            <li>Mitigation: Phased migration with rollback capability</li>
                            <li>Create comprehensive backup before migration</li>
                        </ul>
                    </li>
                    <li><strong>User Training Requirements</strong>
                        <ul>
                            <li>Mitigation: Create video tutorials and documentation</li>
                            <li>Implement gradual feature rollout</li>
                        </ul>
                    </li>
                    <li><strong>Integration Dependencies</strong>
                        <ul>
                            <li>Mitigation: Build adapter pattern for external APIs</li>
                            <li>Implement circuit breakers and fallbacks</li>
                        </ul>
                    </li>
                    <li><strong>Performance at Scale</strong>
                        <ul>
                            <li>Mitigation: Load testing before launch</li>
                            <li>Implement caching and database optimization</li>
                        </ul>
                    </li>
                </ol>
            </div>
        </div>

        <h2>‚úÖ Next Steps</h2>
        <div class="section">
            <div class="alert alert-success">
                <h3>Immediate Actions Required</h3>
                <ol>
                    <li>‚úÖ <strong>Approve system design</strong> - This document</li>
                    <li>‚¨ú <strong>Assemble development team</strong> - 4-5 developers + 1 PM</li>
                    <li>‚¨ú <strong>Setup development environment</strong> - Git, CI/CD, staging</li>
                    <li>‚¨ú <strong>Begin UI/UX design phase</strong> - Week 1</li>
                    <li>‚¨ú <strong>Start database migration planning</strong> - Week 2</li>
                </ol>
            </div>
        </div>

        <div class="section" style="text-align: center; margin-top: 50px; padding: 30px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 12px;">
            <h2 style="color: white; border: none;">üö¢ HarbourX - Navigating Financial Success</h2>
            <p style="font-size: 1.2em; margin: 20px 0;">Ready to transform your broker commission platform</p>
            <p style="opacity: 0.9;">¬© 2024 HarbourX - System Design Document v1.0</p>
        </div>
    </div>

    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });
    </script>
</body>
</html>